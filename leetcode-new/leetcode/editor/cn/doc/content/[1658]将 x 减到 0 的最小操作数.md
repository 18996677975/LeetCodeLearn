<p>ç»™ä½ ä¸€ä¸ªæ•´æ•°æ•°ç»„ <code>nums</code> å’Œä¸€ä¸ªæ•´æ•° <code>x</code> ã€‚æ¯ä¸€æ¬¡æ“ä½œæ—¶ï¼Œä½ åº”å½“ç§»é™¤æ•°ç»„ <code>nums</code> æœ€å·¦è¾¹æˆ–æœ€å³è¾¹çš„å…ƒç´ ï¼Œç„¶åä» <code>x</code> ä¸­å‡å»è¯¥å…ƒç´ çš„å€¼ã€‚è¯·æ³¨æ„ï¼Œéœ€è¦ <strong>ä¿®æ”¹</strong> æ•°ç»„ä»¥ä¾›æ¥ä¸‹æ¥çš„æ“ä½œä½¿ç”¨ã€‚</p>

<p>å¦‚æœå¯ä»¥å°† <code>x</code>&nbsp;<strong>æ°å¥½</strong> å‡åˆ°&nbsp;<code>0</code> ï¼Œè¿”å›<strong> æœ€å°æ“ä½œæ•° </strong>ï¼›å¦åˆ™ï¼Œè¿”å› <code>-1</code> ã€‚</p>

<p>&nbsp;</p>

<p><strong>ç¤ºä¾‹ 1ï¼š</strong></p>

<pre>
<strong>è¾“å…¥ï¼š</strong>nums = [1,1,4,2,3], x = 5
<strong>è¾“å‡ºï¼š</strong>2
<strong>è§£é‡Šï¼š</strong>æœ€ä½³è§£å†³æ–¹æ¡ˆæ˜¯ç§»é™¤åä¸¤ä¸ªå…ƒç´ ï¼Œå°† x å‡åˆ° 0 ã€‚
</pre>

<p><strong>ç¤ºä¾‹ 2ï¼š</strong></p>

<pre>
<strong>è¾“å…¥ï¼š</strong>nums = [5,6,7,8,9], x = 4
<strong>è¾“å‡ºï¼š</strong>-1
</pre>

<p><strong>ç¤ºä¾‹ 3ï¼š</strong></p>

<pre>
<strong>è¾“å…¥ï¼š</strong>nums = [3,2,20,1,1,3], x = 10
<strong>è¾“å‡ºï¼š</strong>5
<strong>è§£é‡Šï¼š</strong>æœ€ä½³è§£å†³æ–¹æ¡ˆæ˜¯ç§»é™¤åä¸‰ä¸ªå…ƒç´ å’Œå‰ä¸¤ä¸ªå…ƒç´ ï¼ˆæ€»å…± 5 æ¬¡æ“ä½œï¼‰ï¼Œå°† x å‡åˆ° 0 ã€‚
</pre>

<p>&nbsp;</p>

<p><strong>æç¤ºï¼š</strong></p>

<ul> 
 <li><code>1 &lt;= nums.length &lt;= 10<sup>5</sup></code></li> 
 <li><code>1 &lt;= nums[i] &lt;= 10<sup>4</sup></code></li> 
 <li><code>1 &lt;= x &lt;= 10<sup>9</sup></code></li> 
</ul>

<details><summary><strong>Related Topics</strong></summary>æ•°ç»„ | å“ˆå¸Œè¡¨ | äºŒåˆ†æŸ¥æ‰¾ | å‰ç¼€å’Œ | æ»‘åŠ¨çª—å£</details><br>

<div>ğŸ‘ 353, ğŸ‘ 0<span style='float: right;'><span style='color: gray;'><a href='https://github.com/labuladong/fucking-algorithm/discussions/939' target='_blank' style='color: lightgray;text-decoration: underline;'>bug åé¦ˆ</a> | <a href='https://labuladong.online/algo/fname.html?fname=jbæ’ä»¶ç®€ä»‹' target='_blank' style='color: lightgray;text-decoration: underline;'>ä½¿ç”¨æŒ‡å—</a> | <a href='https://labuladong.online/algo/images/others/%E5%85%A8%E5%AE%B6%E6%A1%B6.jpg' target='_blank' style='color: lightgray;text-decoration: underline;'>æ›´å¤šé…å¥—æ’ä»¶</a></span></span></div>

<div id="labuladong"><hr>

**é€šçŸ¥ï¼š[æ–°ç‰ˆç½‘ç«™ä¼šå‘˜](https://labuladong.online/algo/intro/site-vip/) é™æ—¶ä¼˜æƒ ï¼›ç®—æ³•å¯è§†åŒ–ç¼–è¾‘å™¨ä¸Šçº¿ï¼Œ[ç‚¹å‡»ä½“éªŒ](https://labuladong.online/algo/intro/visualize/)ï¼**

<details><summary><strong>labuladong æ€è·¯</strong></summary>

## åŸºæœ¬æ€è·¯

å¾ˆå¤šè¯»è€…ç¬¬ä¸€çœ¼çœ‹åˆ°è¿™ä¸ªé¢˜ï¼Œå¯èƒ½å°±æƒ³åˆ°äº†é€’å½’ç®—æ³•æ¥ç©·ä¸¾æ‰€æœ‰å¯èƒ½çš„æ“ä½œæ–¹æ³•å¯¹å§ï¼Ÿæ¯æ¬¡æˆ‘å¯ä»¥é€‰æ‹©ç§»é™¤æœ€å·¦è¾¹æˆ–æœ€å³è¾¹çš„å…ƒç´ ï¼Œç„¶åå¯¹å‰©ä¸‹çš„æ•°ç»„é€’å½’è°ƒç”¨ï¼Œç›´åˆ° `x` å‡åˆ° 0ï¼Œè‚¯å®šå¯ä»¥ç®—å‡ºæœ€å°çš„æ“ä½œæ•°ã€‚

è¿™å¾ˆå¥½ï¼Œè¯´æ˜å¤§å®¶å·²ç»ç†è§£å¹¶è¿ç”¨äº†ã€Œç®—æ³•æœ¬è´¨æ˜¯ç©·ä¸¾ã€çš„æ€æƒ³ï¼Œå¯¹äºå®¹æ˜“ç©·ä¸¾çš„ï¼Œç”¨ for å¾ªç¯éå†ï¼›å¯¹äºæ¯æ¬¡é€‰æ‹©ä¹‹é—´äº’ç›¸å…³è”çš„ï¼Œç”¨é€’å½’ç®—æ³•å€ŸåŠ©é€’å½’æ ‘ç©·ä¸¾ã€‚

ä½†æ˜¯è¿™é‡Œå¯ä»¥ç”¨åˆ°æˆ‘åœ¨ [æ—¶ç©ºå¤æ‚åº¦åˆ†æå®ç”¨æŒ‡å—](https://labuladong.online/algo/essential-technique/complexity-analysis/) ä¸­åˆ†äº«çš„å°æŠ€å·§ï¼Œä½ çœ‹å®Œé¢˜å°±çŸ¥é“è¿™é¢˜ä¸èƒ½ç”¨é€’å½’ï¼šå°±æ˜¯çœ‹æ•°æ®è§„æ¨¡é¢„ä¼°åæ¨ç®—æ³•æ€è·¯ã€‚

è¿™é“é¢˜çš„æ•°æ®è§„æ¨¡æ˜¯ `1 <= nums.length <= 10^5`ï¼Œè¿™å°±æ„å‘³ç€é€’å½’ç®—æ³•çš„æ—¶é—´å¤æ‚åº¦ä¸èƒ½è¾¾åˆ° `O(2^n)` è¿™ä¸ªçº§åˆ«ï¼Œå› ä¸º 10^5 çš„å¹³æ–¹å°±æ˜¯ 10^10ï¼Œè¿™ä¸ªæ•°é‡çº§ï¼Œåœ¨ä»»ä½•åˆ¤é¢˜å¹³å°éƒ½æ˜¯ä¸èƒ½è¢«æ¥å—çš„ã€‚

ä½ å¦‚æœç”¨é€’å½’ç®—æ³•ï¼Œä¸”ä¸è¯´æŒ‡æ•°çº§å¤æ‚åº¦çš„å›æº¯ç®—æ³•äº†ï¼Œå³ä¾¿ä½ èƒ½ç”¨åŠ¨æ€è§„åˆ’ç®—æ³•æ¶ˆé™¤é‡å å­é—®é¢˜ï¼Œé‚£ä½ è‡³å°‘ä¹Ÿè¦ç”¨ä¸¤ä¸ªçŠ¶æ€ï¼Œä¹Ÿå°±æ˜¯æ•°ç»„ä¸¤ç«¯ `i, j` çš„ç´¢å¼•ä½ç½®ã€‚é‚£ä¹ˆæ—¶ç©ºå¤æ‚åº¦æœ€èµ·ç éƒ½è¦ `O(2^n)`ï¼Œæ‰€ä»¥è¿™é“é¢˜ä¸é€‚åˆç”¨é€’å½’ç®—æ³•ã€‚

æœ‰äº†ä¸Šé¢çš„åˆ†æï¼Œä½ å¿…é¡»å†è§‚å¯Ÿè§‚å¯Ÿï¼Œè½¬æ¢ä¸€ä¸‹æ€è·¯ã€‚é¢˜ç›®è®©ä½ ä»è¾¹ç¼˜åˆ é™¤æ‰å’Œä¸º `x` çš„å…ƒç´ ï¼Œé‚£å‰©ä¸‹æ¥çš„æ˜¯ä»€ä¹ˆï¼Ÿå‰©ä¸‹æ¥çš„æ˜¯ä¸æ˜¯å°±æ˜¯ `nums` ä¸­çš„ä¸€ä¸ªå­æ•°ç»„ï¼Ÿè®©ä½ å°½å¯èƒ½å°‘åœ°ä»è¾¹ç¼˜åˆ é™¤å…ƒç´ è¯´æ˜ä»€ä¹ˆï¼Ÿæ˜¯ä¸æ˜¯å°±æ˜¯è¯´å‰©ä¸‹æ¥çš„è¿™ä¸ªå­æ•°ç»„å¤§å°å°½å¯èƒ½çš„å¤§ï¼Ÿ

**æ‰€ä»¥ï¼Œè¿™é“é¢˜ç­‰ä»·äºè®©ä½ å¯»æ‰¾ `nums` ä¸­å…ƒç´ å’Œä¸º `sum(nums) - x` çš„æœ€é•¿å­æ•°ç»„**ã€‚

å¯»æ‰¾å­æ•°ç»„å°±æ˜¯è€ƒå¯Ÿæ»‘åŠ¨çª—å£æŠ€å·§ã€‚å‰æ–‡ [æ»‘åŠ¨çª—å£æ¡†æ¶](https://labuladong.online/algo/ds-class/shu-zu-lia-39fd9/hua-dong-c-c0f54) è¯´è¿‡ï¼Œä½¿ç”¨æ»‘åŠ¨çª—å£ç®—æ³•éœ€è¦ææ¸…æ¥šä»¥ä¸‹å‡ ä¸ªé—®é¢˜ï¼š

1ã€ä»€ä¹ˆæ—¶å€™åº”è¯¥æ‰©å¤§çª—å£ï¼Ÿ

2ã€ä»€ä¹ˆæ—¶å€™åº”è¯¥ç¼©å°çª—å£ï¼Ÿ

3ã€ä»€ä¹ˆæ—¶å€™å¾—åˆ°ä¸€ä¸ªåˆæ³•çš„ç­”æ¡ˆï¼Ÿ

é’ˆå¯¹æœ¬é¢˜ï¼Œä»¥ä¸Šä¸‰ä¸ªé—®é¢˜çš„ç­”æ¡ˆæ˜¯ï¼š

1ã€å½“çª—å£å†…å…ƒç´ ä¹‹å’Œå°äºç›®æ ‡å’Œ `target` æ—¶ï¼Œæ‰©å¤§çª—å£ï¼Œè®©çª—å£å†…å…ƒç´ å’Œå¢åŠ ã€‚

2ã€å½“çª—å£å†…å…ƒç´ ä¹‹å’Œå¤§äºç›®æ ‡å’Œ `target` æ—¶ï¼Œç¼©å°çª—å£ï¼Œè®©çª—å£å†…å…ƒç´ å’Œå‡å°ã€‚

3ã€å½“çª—å£å†…å…ƒç´ ä¹‹å’Œç­‰äºç›®æ ‡å’Œ `target` æ—¶ï¼Œæ‰¾åˆ°ä¸€ä¸ªç¬¦åˆæ¡ä»¶çš„å­æ•°ç»„ï¼Œæˆ‘ä»¬æƒ³æ‰¾çš„æ˜¯æœ€é•¿çš„å­æ•°ç»„é•¿åº¦ã€‚

> æ³¨æ„ï¼šç±»ä¼¼ [713. ä¹˜ç§¯å°äº K çš„å­æ•°ç»„](/problems/subarray-product-less-than-k)ï¼Œä¹‹æ‰€ä»¥æœ¬é¢˜å¯ä»¥ç”¨æ»‘åŠ¨çª—å£ï¼Œå…³é”®æ˜¯é¢˜ç›®è¯´äº† `nums` ä¸­çš„å…ƒç´ éƒ½æ˜¯æ­£æ•°ï¼Œè¿™å°±ä¿è¯äº†åªè¦æœ‰å…ƒç´ åŠ å…¥çª—å£ï¼Œå’Œä¸€å®šå˜å¤§ï¼Œåªè¦æœ‰å…ƒç´ ç¦»å¼€çª—å£ï¼Œå’Œä¸€å®šå˜å°ã€‚
>
> ä½ æƒ³æƒ³å¦‚æœå­˜åœ¨è´Ÿæ•°çš„è¯å°±æ²¡æœ‰è¿™ä¸ªæ€§è´¨äº†ï¼Œä¹Ÿå°±ä¸èƒ½ç¡®å®šä»€ä¹ˆæ—¶å€™æ‰©å¤§å’Œç¼©å°çª—å£ï¼Œä¹Ÿå°±ä¸èƒ½ä½¿ç”¨æ»‘åŠ¨çª—å£ç®—æ³•ï¼Œè€Œåº”è¯¥ä½¿ç”¨ [å‰ç¼€å’Œ + å“ˆå¸Œè¡¨çš„æ–¹å¼](https://labuladong.online/algo/ds-class/shu-zu-lia-39fd9/qiang-hua--a9442) è§£å†³ï¼Œå‚è§ [560. å’Œä¸ºKçš„å­æ•°ç»„](/problems/subarray-sum-equals-k)ã€‚

**æ ‡ç­¾ï¼š[æ»‘åŠ¨çª—å£](https://labuladong.online/algo/)**

## è§£æ³•ä»£ç 

æç¤ºï¼šğŸŸ¢ æ ‡è®°çš„æ˜¯æˆ‘å†™çš„è§£æ³•ä»£ç ï¼ŒğŸ¤– æ ‡è®°çš„æ˜¯ chatGPT ç¿»è¯‘çš„å¤šè¯­è¨€è§£æ³•ä»£ç ã€‚å¦‚æœ‰é”™è¯¯ï¼Œå¯ä»¥ [ç‚¹è¿™é‡Œ](https://github.com/labuladong/fucking-algorithm/issues/1113) åé¦ˆå’Œä¿®æ­£ã€‚

<div class="tab-panel"><div class="tab-nav">
<button data-tab-item="cpp" class="tab-nav-button btn " data-tab-group="default" onclick="switchTab(this)">cppğŸ¤–</button>

<button data-tab-item="python" class="tab-nav-button btn " data-tab-group="default" onclick="switchTab(this)">pythonğŸ¤–</button>

<button data-tab-item="java" class="tab-nav-button btn active" data-tab-group="default" onclick="switchTab(this)">javağŸŸ¢</button>

<button data-tab-item="go" class="tab-nav-button btn " data-tab-group="default" onclick="switchTab(this)">goğŸ¤–</button>

<button data-tab-item="javascript" class="tab-nav-button btn " data-tab-group="default" onclick="switchTab(this)">javascriptğŸ¤–</button>
</div><div class="tab-content">
<div data-tab-item="cpp" class="tab-item " data-tab-group="default"><div class="highlight">

```cpp
// æ³¨æ„ï¼šcpp ä»£ç ç”± chatGPTğŸ¤– æ ¹æ®æˆ‘çš„ java ä»£ç ç¿»è¯‘ï¼Œæ—¨åœ¨å¸®åŠ©ä¸åŒèƒŒæ™¯çš„è¯»è€…ç†è§£ç®—æ³•é€»è¾‘ã€‚
// æœ¬ä»£ç å·²ç»é€šè¿‡åŠ›æ‰£çš„æµ‹è¯•ç”¨ä¾‹ï¼Œåº”è¯¥å¯ç›´æ¥æˆåŠŸæäº¤ã€‚

class Solution {
public:
    int minOperations(vector<int>& nums, int x) {
        int n = nums.size(), sum = 0;
        for (int i = 0; i < n; i++) {
            sum += nums[i];
        }
        // æ»‘åŠ¨çª—å£éœ€è¦å¯»æ‰¾çš„å­æ•°ç»„ç›®æ ‡å’Œ
        int target = sum - x;

        int left = 0, right = 0;
        // è®°å½•çª—å£å†…æ‰€æœ‰å…ƒç´ å’Œ
        int windowSum = 0;
        // è®°å½•ç›®æ ‡å­æ•°ç»„çš„æœ€å¤§é•¿åº¦
        int maxLen = INT_MIN;
        // å¼€å§‹æ‰§è¡Œæ»‘åŠ¨çª—å£æ¡†æ¶
        while (right < n) {
            // æ‰©å¤§çª—å£
            windowSum += nums[right];
            right++;

            while (windowSum > target && left < right) {
                // ç¼©å°çª—å£
                windowSum -= nums[left];
                left++;
            }
            // å¯»æ‰¾ç›®æ ‡å­æ•°ç»„
            if (windowSum == target) {
                maxLen = max(maxLen, right - left);
            }
        }
        // ç›®æ ‡å­æ•°ç»„çš„æœ€å¤§é•¿åº¦å¯ä»¥æ¨å¯¼å‡ºéœ€è¦åˆ é™¤çš„å­—ç¬¦æ•°é‡
        return maxLen == INT_MIN ? -1 : n - maxLen;
    }
};
```

</div></div>

<div data-tab-item="python" class="tab-item " data-tab-group="default"><div class="highlight">

```python
# æ³¨æ„ï¼špython ä»£ç ç”± chatGPTğŸ¤– æ ¹æ®æˆ‘çš„ java ä»£ç ç¿»è¯‘ï¼Œæ—¨åœ¨å¸®åŠ©ä¸åŒèƒŒæ™¯çš„è¯»è€…ç†è§£ç®—æ³•é€»è¾‘ã€‚
# æœ¬ä»£ç å·²ç»é€šè¿‡åŠ›æ‰£çš„æµ‹è¯•ç”¨ä¾‹ï¼Œåº”è¯¥å¯ç›´æ¥æˆåŠŸæäº¤ã€‚

class Solution:
    def minOperations(self, nums: List[int], x: int) -> int:
        n = len(nums)
        # æ±‚æ•°ç»„æ€»å’Œ
        sum_num = sum(nums)
        # æ»‘åŠ¨çª—å£éœ€è¦å¯»æ‰¾çš„å­æ•°ç»„ç›®æ ‡å’Œ
        target = sum_num - x

        left = 0
        right = 0
        # è®°å½•çª—å£å†…æ‰€æœ‰å…ƒç´ å’Œ
        window_sum = 0
        # è®°å½•ç›®æ ‡å­æ•°ç»„çš„æœ€å¤§é•¿åº¦
        max_len = float("-inf")
        # å¼€å§‹æ‰§è¡Œæ»‘åŠ¨çª—å£æ¡†æ¶
        while right < n:
            # æ‰©å¤§çª—å£
            window_sum += nums[right]
            right += 1

            while window_sum > target and left < right:
                # ç¼©å°çª—å£
                window_sum -= nums[left]
                left += 1
            # å¯»æ‰¾ç›®æ ‡å­æ•°ç»„
            if window_sum == target:
                max_len = max(max_len, right - left)

        # ç›®æ ‡å­æ•°ç»„çš„æœ€å¤§é•¿åº¦å¯ä»¥æ¨å¯¼å‡ºéœ€è¦åˆ é™¤çš„å­—ç¬¦æ•°é‡
        return -1 if max_len == float("-inf") else n - max_len
```

</div></div>

<div data-tab-item="java" class="tab-item active" data-tab-group="default"><div class="highlight">

```java
class Solution {
    public int minOperations(int[] nums, int x) {
        int n = nums.length, sum = 0;
        for (int i = 0; i < n; i++) {
            sum += nums[i];
        }
        // æ»‘åŠ¨çª—å£éœ€è¦å¯»æ‰¾çš„å­æ•°ç»„ç›®æ ‡å’Œ
        int target = sum - x;

        int left = 0, right = 0;
        // è®°å½•çª—å£å†…æ‰€æœ‰å…ƒç´ å’Œ
        int windowSum = 0;
        // è®°å½•ç›®æ ‡å­æ•°ç»„çš„æœ€å¤§é•¿åº¦
        int maxLen = Integer.MIN_VALUE;
        // å¼€å§‹æ‰§è¡Œæ»‘åŠ¨çª—å£æ¡†æ¶
        while (right < nums.length) {
            // æ‰©å¤§çª—å£
            windowSum += nums[right];
            right++;

            while (windowSum > target && left < right) {
                // ç¼©å°çª—å£
                windowSum -= nums[left];
                left++;
            }
            // å¯»æ‰¾ç›®æ ‡å­æ•°ç»„
            if (windowSum == target) {
                maxLen = Math.max(maxLen, right - left);
            }
        }
        // ç›®æ ‡å­æ•°ç»„çš„æœ€å¤§é•¿åº¦å¯ä»¥æ¨å¯¼å‡ºéœ€è¦åˆ é™¤çš„å­—ç¬¦æ•°é‡
        return maxLen == Integer.MIN_VALUE ? -1 : n - maxLen;
    }
}
```

</div></div>

<div data-tab-item="go" class="tab-item " data-tab-group="default"><div class="highlight">

```go
// æ³¨æ„ï¼šgo ä»£ç ç”± chatGPTğŸ¤– æ ¹æ®æˆ‘çš„ java ä»£ç ç¿»è¯‘ï¼Œæ—¨åœ¨å¸®åŠ©ä¸åŒèƒŒæ™¯çš„è¯»è€…ç†è§£ç®—æ³•é€»è¾‘ã€‚
// æœ¬ä»£ç å·²ç»é€šè¿‡åŠ›æ‰£çš„æµ‹è¯•ç”¨ä¾‹ï¼Œåº”è¯¥å¯ç›´æ¥æˆåŠŸæäº¤ã€‚

func minOperations(nums []int, x int) int {
    n := len(nums)

    // æ±‚æ•°ç»„å…ƒç´ æ€»å’Œ
    sum := 0
    for i := 0; i < n; i++ {
        sum += nums[i]
    }
    // æ»‘åŠ¨çª—å£éœ€è¦å¯»æ‰¾çš„å­æ•°ç»„ç›®æ ‡å’Œ
    target := sum - x

    left, right := 0, 0
    // è®°å½•çª—å£å†…æ‰€æœ‰å…ƒç´ å’Œ
    windowSum := 0
    // è®°å½•ç›®æ ‡å­æ•°ç»„çš„æœ€å¤§é•¿åº¦
    maxLen := -1
    // å¼€å§‹æ‰§è¡Œæ»‘åŠ¨çª—å£æ¡†æ¶
    for right < n {
        // æ‰©å¤§çª—å£
        windowSum += nums[right]
        right++

        // å¦‚æœå¤§äºç›®æ ‡å’Œå°±ä¸æ–­ç¼©å°çª—å£
        for windowSum > target && left < right {
            windowSum -= nums[left]
            left++
        }
        // å½“çª—å£å†…å…ƒç´ å’Œç­‰äºç›®æ ‡å’Œæ—¶ï¼Œæ›´æ–°æœ€å¤§é•¿åº¦
        if windowSum == target {
            maxLen = max(maxLen, right-left)
        }
    }
    // ç›®æ ‡å­æ•°ç»„çš„æœ€å¤§é•¿åº¦å¯ä»¥æ¨å¯¼å‡ºéœ€è¦åˆ é™¤çš„å­—ç¬¦æ•°é‡
    if maxLen == -1 {
        return -1
    }
    return n - maxLen
}

func max(x, y int) int {
    if x > y {
        return x
    }
    return y
}
```

</div></div>

<div data-tab-item="javascript" class="tab-item " data-tab-group="default"><div class="highlight">

```javascript
// æ³¨æ„ï¼šjavascript ä»£ç ç”± chatGPTğŸ¤– æ ¹æ®æˆ‘çš„ java ä»£ç ç¿»è¯‘ï¼Œæ—¨åœ¨å¸®åŠ©ä¸åŒèƒŒæ™¯çš„è¯»è€…ç†è§£ç®—æ³•é€»è¾‘ã€‚
// æœ¬ä»£ç å·²ç»é€šè¿‡åŠ›æ‰£çš„æµ‹è¯•ç”¨ä¾‹ï¼Œåº”è¯¥å¯ç›´æ¥æˆåŠŸæäº¤ã€‚

/**
 * @param {number[]} nums
 * @param {number} x
 * @return {number}
 */
var minOperations = function(nums, x) {
  const n = nums.length;
  let sum = 0;
  for (let i = 0; i < n; i++) {
    sum += nums[i];
  }
  // æ»‘åŠ¨çª—å£éœ€è¦å¯»æ‰¾çš„å­æ•°ç»„ç›®æ ‡å’Œ
  const target = sum - x;

  let left = 0,
    right = 0;
  // è®°å½•çª—å£å†…æ‰€æœ‰å…ƒç´ å’Œ
  let windowSum = 0;
  // è®°å½•ç›®æ ‡å­æ•°ç»„çš„æœ€å¤§é•¿åº¦
  let maxLen = Number.MIN_VALUE;
  // å¼€å§‹æ‰§è¡Œæ»‘åŠ¨çª—å£æ¡†æ¶
  while (right < nums.length) {
    // æ‰©å¤§çª—å£
    windowSum += nums[right];
    right++;

    while (windowSum > target && left < right) {
      // ç¼©å°çª—å£
      windowSum -= nums[left];
      left++;
    }
    // å¯»æ‰¾ç›®æ ‡å­æ•°ç»„
    if (windowSum === target) {
      maxLen = Math.max(maxLen, right - left);
    }
  }
  // ç›®æ ‡å­æ•°ç»„çš„æœ€å¤§é•¿åº¦å¯ä»¥æ¨å¯¼å‡ºéœ€è¦åˆ é™¤çš„å­—ç¬¦æ•°é‡
  return maxLen === Number.MIN_VALUE ? -1 : n - maxLen;
};
```

</div></div>
</div></div>

<hr /><details open hint-container details><summary style="font-size: medium"><strong>ğŸ‘¾ğŸ‘¾ ç®—æ³•å¯è§†åŒ– ğŸ‘¾ğŸ‘¾</strong></summary><div id="data_minimum-operations-to-reduce-x-to-zero" data="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"></div><div class="resizable aspect-ratio-container" style="height: 100%;">
<div id="iframe_minimum-operations-to-reduce-x-to-zero"></div></div>
</details><hr /><br />

</details>
</div>

